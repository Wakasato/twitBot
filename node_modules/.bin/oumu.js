
var app = require('../../app')
var Twit = require('twit');
const BOT_ID = 'MY_BOT_ID';
var options = app.get('options')
const config = require('../../config');



var twitter = new Twit({
  consumer_key        : "XXXXXXXXX" /* 各自記入 */,
  consumer_secret     : "XXXXXXXXX" /* 各自記入 */,
  access_token    : "XXXXXXXXX" /* 各自記入 */,
  access_token_secret : "XXXXXXXXX" /* 各自記入 */
});
var stream = twitter.stream('user')


//hello world
twitter.post('statuses/update', 
{ status: 'feeling good' }, 
function(err, data, response) {
  console.log('bot is started')
})



// ダイレクトメッセージハンドリング
stream.on('direct_message', function(data) {
	var message = data.direct_message;
  
	// 自分が送信したダイレクトメッセージは処理しない
	if (message.sender_id_str === options.id) return
	// エコーで返信
	var reply = { user_id: message.sender_id_str, text: message.text }
  
twitter.post('statuses/update', 
{ status: message.text }, 
   function(err, data, resp)   {
    console.log('DM is sended')
  })
  })
　
  